<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Copper Bus Simulator — 3D + Heatmap</title>
<style>
  body {
    margin: 0;
    padding: 0;
    font-family: sans-serif;
    background: #1e1e1e;
    color: white;
    overflow-x: hidden;
  }
  main {
    max-width: 900px;
    margin: auto;
    padding: 20px;
  }
  canvas {
    display: block;
    margin: 20px auto;
    max-width: 100%;
    height: auto !important;
  }
  .section {
    margin-bottom: 1.5rem;
  }
  input, button, select {
    padding: 5px;
    margin: 3px 0;
    border-radius: 4px;
    border: none;
  }
</style>
</head>
<body>
<main>
  <h1>Copper Bus Simulator — 3D + Heatmap</h1>
  <p>Rotate the 3D bus and tune geometry, current, and frequency. Surfaces are textured with the live current-density heatmap (skin-effect only; no proximity).</p>

  <div class="section">
    <label>Geometry units: </label>
    <select id="units">
      <option value="in">in</option>
      <option value="mm">mm</option>
    </select>
  </div>

  <div class="section">
    <label>Conductor geometry (rectangular bar)</label><br>
    <input type="number" step="0.01" id="width" placeholder="Width">
    <input type="number" step="0.01" id="thickness" placeholder="Thickness">
    <input type="number" step="0.01" id="length" placeholder="Length">
  </div>

  <div class="section">
    <label>Electrical conditions</label><br>
    <input type="number" step="0.01" id="current" placeholder="Current (A)">
    <input type="number" step="0.01" id="frequency" placeholder="Frequency (Hz)">
    <input type="number" step="0.01" id="temp" placeholder="Temperature (°C)">
  </div>

  <div class="section">
    <label>Copper properties</label><br>
    <input type="number" step="0.01" id="rho" placeholder="Resistivity (Ω·m)">
    <p>ρ20°C = 1.724×10⁻⁸ Ω·m, α = 0.00393/°C. μ ≈ μ₀.</p>
  </div>

  <div id="results" class="section">
    <p>Cross-sectional area (DC): <span id="area">—</span></p>
    <p>R<sub>DC</sub>: <span id="rdc">—</span></p>
    <p>Current density (AC eff.): <span id="j">—</span></p>
    <p>Voltage drop (AC): <span id="vd">—</span></p>
  </div>

  <canvas id="heatmapCanvas" width="800" height="400"></canvas>
</main>

<script>
  const canvas = document.getElementById('heatmapCanvas');
  const ctx = canvas.getContext('2d');

  // Example: Fill with a placeholder gradient until 3D logic is added
  const gradient = ctx.createLinearGradient(0, 0, canvas.width, canvas.height);
  gradient.addColorStop(0, 'red');
  gradient.addColorStop(1, 'blue');
  ctx.fillStyle = gradient;
  ctx.fillRect(0, 0, canvas.width, canvas.height);

  // Prevent infinite scrolling bug by fitting to viewport
  document.body.style.height = "auto";
  document.documentElement.style.height = "auto";
</script>
</body>
</html>